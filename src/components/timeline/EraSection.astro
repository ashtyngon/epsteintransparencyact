---
import type { CollectionEntry } from 'astro:content';
import type { Era } from '../../utils/timeline-eras';
import TimelineCard from './TimelineCard.astro';

interface Props {
  era: Era;
  entries: CollectionEntry<'timeline'>[];
}

const { era, entries } = Astro.props;
---

<section id={`era-${era.id}`} class="mb-16 scroll-mt-24">
  <!-- Era Header -->
  <div class={`era-header border-l-4 ${era.borderColor} mb-8`}>
    <div class="flex items-baseline gap-3 mb-1">
      <h2 class="font-serif text-2xl md:text-3xl font-bold text-primary">
        {era.label}
      </h2>
      <span class="text-sm font-mono text-text-muted whitespace-nowrap">
        {era.dateRange}
      </span>
    </div>
    <p class="text-sm text-text-muted leading-relaxed max-w-2xl">
      {era.description}
    </p>
    <div class="text-xs text-text-muted font-mono mt-2">
      {entries.length} {entries.length === 1 ? 'event' : 'events'}
    </div>
  </div>

  <!-- Events Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {entries.map((entry) => (
      <TimelineCard entry={entry} />
    ))}
  </div>
</section>
